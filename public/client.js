// Generated by CoffeeScript 1.8.0
(function() {
  $(function() {
    var $m, $messages, $nick, socket;
    socket = io();
    $m = $('#m');
    $nick = $('#nick');
    $messages = $('#messages');
    $('form').submit(function(event) {
      var msg;
      event.preventDefault();
      msg = {
        nick: $nick.val(),
        msg: $m.val()
      };
      socket.emit('chat message', msg);
      $m.val('');
      return false;
    });
    return socket.on('new message', function(msg) {
      var m;
      m = "" + msg.time + " - " + msg.nick + ": " + msg.msg;
      return $messages.append($('<li>').text(m));
    });
  });

}).call(this);
